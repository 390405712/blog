(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{293:function(t,s,a){"use strict";a.r(s);var n=a(38),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"使用文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用文档","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用文档")]),t._v(" "),a("h2",{attrs:{id:"使用插件前项目环境及编码规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用插件前项目环境及编码规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用插件前项目环境及编码规范")]),t._v(" "),a("h3",{attrs:{id:"前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端","aria-hidden":"true"}},[t._v("#")]),t._v(" 前端")]),t._v(" "),a("ul",[a("li",[t._v("非单页面应用的环境下,应避免页面跳转时公共js重新加载的情况（就是避免F5）,这会造成插件初始化导致漏监听的情况")]),t._v(" "),a("li",[t._v("页面中按钮使用button命名")]),t._v(" "),a("li",[t._v("监听的dom文本没有值时（图标按钮、输入框、文本域等等），在该dom上添加属性"),a("code",[t._v('point="dom描述"')])])]),t._v(" "),a("h3",{attrs:{id:"后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端","aria-hidden":"true"}},[t._v("#")]),t._v(" 后端")]),t._v(" "),a("ul",[a("li",[t._v("后端返回数据应使用json，不要使用字符串json")])]),t._v(" "),a("h2",{attrs:{id:"插件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 插件说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("插件名")]),t._v(" "),a("th",[t._v("监听dom操作的实现方式")]),t._v(" "),a("th",[t._v("监听路由的实现方式")]),t._v(" "),a("th",[t._v("监听xhr的实现方式")]),t._v(" "),a("th",[t._v("前端缓存方式")]),t._v(" "),a("th",[t._v("是否必须使用babel插件转es5")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("record-point-js")]),t._v(" "),a("td",[t._v("js原生")]),t._v(" "),a("td",[t._v("js原生")]),t._v(" "),a("td",[t._v("js原生")]),t._v(" "),a("td",[t._v("indexedDB或者localStorage")]),t._v(" "),a("td",[t._v("是")])]),t._v(" "),a("tr",[a("td",[t._v("record-point-layui")]),t._v(" "),a("td",[t._v("js原生 + jquery + layui")]),t._v(" "),a("td",[t._v("js原生")]),t._v(" "),a("td",[t._v("js原生")]),t._v(" "),a("td",[t._v("indexedDB或者localStorage")]),t._v(" "),a("td",[t._v("是")])]),t._v(" "),a("tr",[a("td",[t._v("record-point-vue")]),t._v(" "),a("td",[t._v("js原生 + vue + elementui")]),t._v(" "),a("td",[t._v("vue-router")]),t._v(" "),a("td",[t._v("axios")]),t._v(" "),a("td",[t._v("indexedDB或者localStorage")]),t._v(" "),a("td",[t._v("否")])])])]),t._v(" "),a("h3",{attrs:{id:"record-point-layui-使用顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#record-point-layui-使用顺序","aria-hidden":"true"}},[t._v("#")]),t._v(" record-point-layui 使用顺序")]),t._v(" "),a("ol",[a("li",[t._v("在根目录html中引入"),a("code",[t._v("record-point-layui.js")]),t._v("（注：在jquery.js之后的位置），根据实际情况添加async属性（能尽早的开始监听）")]),t._v(" "),a("li",[t._v("在"),a("code",[t._v("record-point-layui.js")]),t._v("中的"),a("code",[t._v("DATA")]),t._v("变量中配置租户信息")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端id")]),t._v("\n    redirect_uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://111.229.161.253:22222/pcstfw/canteen/foodReserve'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向地址")]),t._v("\n    accessAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'111.229.161.253:22222'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台地址")]),t._v("\n    client_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端secret")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在"),a("code",[t._v("record-point-layui.js")]),t._v("中的"),a("code",[t._v("baseGenerator")]),t._v("方法中的"),a("code",[t._v("DATA.base")]),t._v("中写入用户及角色值")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("base "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取用户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取角色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"record-point-js-使用顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#record-point-js-使用顺序","aria-hidden":"true"}},[t._v("#")]),t._v(" record-point-js 使用顺序")]),t._v(" "),a("ol",[a("li",[t._v("在根目录html中引入"),a("code",[t._v("record-point-js.js")]),t._v("（注：在jquery.js之后的位置），根据实际情况添加async属性（能尽早的开始监听）")]),t._v(" "),a("li",[t._v("在"),a("code",[t._v("record-point-js.js")]),t._v("中的"),a("code",[t._v("DATA")]),t._v("变量中配置租户信息")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端id")]),t._v("\n    redirect_uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://111.229.161.253:22222/pcstfw/canteen/foodReserve'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向地址")]),t._v("\n    accessAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'111.229.161.253:22222'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台地址")]),t._v("\n    client_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端secret")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在"),a("code",[t._v("record-point-js.js")]),t._v("中的"),a("code",[t._v("baseGenerator")]),t._v("方法中的"),a("code",[t._v("DATA.base")]),t._v("中写入用户及角色值，根据项目实际情况获取")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("base "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取用户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取角色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"record-point-vue-使用顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#record-point-vue-使用顺序","aria-hidden":"true"}},[t._v("#")]),t._v(" record-point-vue 使用顺序")]),t._v(" "),a("ol",[a("li",[t._v("在main.js中引入"),a("code",[t._v("record-point-vue.js")]),t._v(" 或者App.vue中import并在mixins中添加")]),t._v(" "),a("li",[t._v("如项目中axios使用响应拦截需要return原主体")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在"),a("code",[t._v("record-point-vue.js")]),t._v("中的"),a("code",[t._v("data")]),t._v("变量中配置租户信息")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    client_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端id")]),t._v("\n    redirect_uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://111.229.161.253:22222/pcstfw/canteen/foodReserve'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向地址")]),t._v("\n    accessAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'111.229.161.253:22222'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平台地址")]),t._v("\n    client_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wfystfw'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端secret")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("在"),a("code",[t._v("record-point-vue.js")]),t._v("中的"),a("code",[t._v("baseGenerator")]),t._v("方法中的"),a("code",[t._v("DATA.base")]),t._v("中写入用户及角色值")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  _self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("base "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取用户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 视项目实际情况获取角色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])},[],!1,null,null,null);s.default=e.exports}}]);